(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4650:(e,t,a)=>{Promise.resolve().then(a.bind(a,5513))},5513:(e,t,a)=>{"use strict";a.d(t,{default:()=>x});var r=a(5155),s=a(2115),l=a(3463),n=a(9795);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.QP)((0,l.$)(t))}let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});o.displayName="Card",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:i("flex flex-col space-y-1.5 p-6",a),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:i("text-2xl font-semibold leading-none tracking-tight",a),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:i("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:i("p-6 pt-0",a),...s})});d.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:i("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var c=a(1290);let m=(0,a(1027).F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:n=!1,...o}=e,d=n?c.DX:"button";return(0,r.jsx)(d,{className:i(m({variant:s,size:l,className:a})),ref:t,...o})});u.displayName="Button";let p=[{id:"personal",name:"个人记录"},{id:"financial",name:"财务管理"},{id:"startup",name:"创业"},{id:"thoughts",name:"思考"}];function x(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)({content:"",title:"",category:"personal",images:[],videoUrl:""}),[n,i]=(0,s.useState)(-1),[c,m]=(0,s.useState)("all"),x=(0,s.useRef)(null),f=async e=>{for(let t of e){if(t.size>5242880){alert("图片大小不能超过5MB");continue}let e=new FormData;e.append("image",t);try{let t=await fetch("https://api.imgbb.com/1/upload?key=8c7235625529ffdc69f7130dac3647cc",{method:"POST",body:e}),a=await t.json();a.success&&l(e=>({...e,images:[...e.images,a.data.url]}))}catch(e){console.error("上传图片失败:",e),alert("上传图片失败，请重试")}}},g="all"===c?e:e.filter(e=>e.category===c);return(0,r.jsxs)("div",{className:"min-h-screen bg-white text-gray-800",children:[(0,r.jsx)("nav",{className:"border-b fixed w-full bg-white z-50 shadow",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-lg font-semibold",children:"Finance Wang's Blog"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 overflow-auto",children:[p.map(e=>(0,r.jsx)("button",{onClick:()=>m(e.id),className:"text-sm sm:text-base px-3 py-1 rounded-lg ".concat(c===e.id?"bg-blue-100 text-blue-600":"hover:bg-gray-100"),children:e.name},e.id)),(0,r.jsx)("button",{onClick:()=>m("all"),className:"text-sm sm:text-base px-3 py-1 rounded-lg ".concat("all"===c?"bg-blue-100 text-blue-600":"hover:bg-gray-100"),children:"全部"})]})]})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-12 pt-24",children:[(0,r.jsx)(o,{className:"mb-12 border shadow-sm",children:(0,r.jsx)(d,{className:"p-4 sm:p-6",children:(0,r.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),""===a.content.trim()||""===a.title.trim())return;let s={id:Date.now(),...a,date:new Date().toLocaleDateString("zh-CN")};if(-1===n)t([s,...e]);else{let a=[...e];a[n]=s,t(a),i(-1)}l({content:"",title:"",category:"personal",images:[],videoUrl:""})},className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("input",{type:"text",value:a.title,onChange:e=>l({...a,title:e.target.value}),className:"w-full px-3 py-2 sm:py-3 border rounded-lg",placeholder:"标题"}),(0,r.jsx)("textarea",{value:a.content,onChange:e=>l({...a,content:e.target.value}),className:"w-full px-3 py-2 sm:py-3 border rounded-lg min-h-[80px]",placeholder:"写点什么..."}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-4",children:[(0,r.jsx)("select",{value:a.category,onChange:e=>l({...a,category:e.target.value}),className:"border rounded-lg px-2 py-1 sm:px-3 sm:py-2",children:p.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,r.jsx)("input",{type:"file",ref:x,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>f(e.target.files)}),(0,r.jsx)(u,{type:"button",onClick:()=>x.current.click(),children:"添加图片"}),(0,r.jsx)(u,{type:"button",onClick:()=>{let e=prompt("请输入视频链接(支持 YouTube, Bilibili):");e&&l(t=>({...t,videoUrl:e}))},children:"添加视频"}),(0,r.jsx)(u,{type:"submit",children:-1===n?"发布":"更新"})]})]})})}),(0,r.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,r.jsxs)("article",{className:"p-4 border rounded-lg",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:e.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.date}),(0,r.jsx)("p",{children:e.content})]},e.id))})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[40,441,517,358],()=>t(4650)),_N_E=e.O()}]);