(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{4650:(e,t,a)=>{Promise.resolve().then(a.bind(a,5513))},5513:(e,t,a)=>{"use strict";a.d(t,{default:()=>w});var r=a(5155),s=a(2115),l=a(3463),i=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,l.$)(t))}let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});o.displayName="Card",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",a),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:n("text-2xl font-semibold leading-none tracking-tight",a),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:n("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("p-6 pt-0",a),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var d=a(1290);let m=(0,a(1027).F)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),x=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:i=!1,...o}=e,c=i?d.DX:"button";return(0,r.jsx)(c,{className:n(m({variant:s,size:l,className:a})),ref:t,...o})});x.displayName="Button";var u=a(5548),h=a(37),f=a(9609),g=a(4318),p=a(5600),v=a(2366),b=a(2897),y=a(8070),j=a(5524);let N=[{id:"personal",name:"个人记录"},{id:"financial",name:"财务管理"},{id:"startup",name:"创业"},{id:"thoughts",name:"思考"}];function w(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)({content:"",title:"",category:"personal",images:[],videoUrl:""}),[i,n]=(0,s.useState)(-1),[d,m]=(0,s.useState)("all"),w=(0,s.useRef)(null),C=async e=>{for(let t of e){if(t.size>5242880){alert("图片大小不能超过5MB");continue}let e=new FormData;e.append("image",t);try{let t=await fetch("https://api.imgbb.com/1/upload?key=8c7235625529ffdc69f7130dac3647cc",{method:"POST",body:e}),a=await t.json();a.success&&l(e=>({...e,images:[...e.images,a.data.url]}))}catch(e){console.error("上传图片失败:",e),alert("上传图片失败，请重试")}}},z="all"===d?e:e.filter(e=>e.category===d),k=e=>{let t;if(!e)return null;if(e.includes("youtube.com")||e.includes("youtu.be")){let a=e.split("v=")[1]||e.split("/").pop();t="https://www.youtube.com/embed/".concat(a)}else if(e.includes("bilibili.com")){let a=e.split("/").pop();t="https://player.bilibili.com/player.html?bvid=".concat(a)}return t?(0,r.jsx)("iframe",{width:"100%",height:"400",src:t,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):null};return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)("nav",{className:"border-b fixed w-full bg-white z-50",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-6 h-16 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,r.jsx)("h1",{className:"text-xl font-medium",children:"Finance Wang's Blog"}),N.map(e=>(0,r.jsx)("button",{onClick:()=>m(e.id),className:"text-gray-600 hover:text-gray-900 transition-colors ".concat(d===e.id?"text-gray-900 font-semibold":""),children:e.name},e.id)),(0,r.jsx)("button",{onClick:()=>m("all"),className:"text-gray-600 hover:text-gray-900 transition-colors ".concat("all"===d?"text-gray-900 font-semibold":""),children:"全部"})]}),(0,r.jsxs)("div",{className:"flex gap-6",children:[(0,r.jsx)("a",{href:"mailto:chuanxiao579@gmail.com",className:"text-gray-600 hover:text-gray-900",title:"Email",children:(0,r.jsx)(u.A,{size:20})}),(0,r.jsx)("a",{href:"#",className:"text-gray-600 hover:text-gray-900",title:"WeChat: qianmiaomiao8",children:(0,r.jsx)(h.A,{size:20})}),(0,r.jsx)("a",{href:"https://wa.me/66631730281",className:"text-gray-600 hover:text-gray-900",title:"WhatsApp",children:(0,r.jsx)(f.A,{size:20})}),(0,r.jsx)("a",{href:"https://t.me/+4el_FdL3r0ZhYWRl",className:"text-gray-600 hover:text-gray-900",title:"Telegram",children:(0,r.jsx)(f.A,{size:20})}),(0,r.jsx)("a",{href:"https://twitter.com/wuliu_6",className:"text-gray-600 hover:text-gray-900",title:"Twitter",children:(0,r.jsx)(g.A,{size:20})})]})]})}),(0,r.jsxs)("main",{className:"max-w-4xl mx-auto px-6 py-12 pt-24",children:[(0,r.jsx)(o,{className:"mb-12 border-0 shadow-sm",children:(0,r.jsx)(c,{className:"p-6",children:(0,r.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),""===a.content.trim()||""===a.title.trim())return;let s={id:Date.now(),...a,date:new Date().toLocaleDateString("zh-CN")};if(-1===i)t([s,...e]);else{let a=[...e];a[i]=s,t(a),n(-1)}l({content:"",title:"",category:"personal",images:[],videoUrl:""})},className:"space-y-6",children:[(0,r.jsx)("input",{type:"text",value:a.title,onChange:e=>l({...a,title:e.target.value}),className:"w-full p-3 text-lg border-0 border-b focus:ring-0 focus:border-gray-900 transition-colors",placeholder:"标题"}),(0,r.jsx)("textarea",{value:a.content,onChange:e=>l({...a,content:e.target.value}),className:"w-full p-3 min-h-32 border rounded-lg focus:ring-0 focus:border-gray-900 transition-colors",placeholder:"写点什么..."}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsx)("select",{value:a.category,onChange:e=>l({...a,category:e.target.value}),className:"border rounded-lg p-2",children:N.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,r.jsx)("input",{type:"file",ref:w,className:"hidden",accept:"image/*",multiple:!0,onChange:e=>C(e.target.files)}),(0,r.jsxs)(x,{type:"button",variant:"outline",onClick:()=>w.current.click(),children:[(0,r.jsx)(p.A,{size:16,className:"mr-2"}),"添加图片"]}),(0,r.jsxs)(x,{type:"button",variant:"outline",onClick:()=>{let e=prompt("请输入视频链接(支持 YouTube, Bilibili):");e&&l(t=>({...t,videoUrl:e}))},children:[(0,r.jsx)(v.A,{size:16,className:"mr-2"}),"添加视频"]}),(0,r.jsx)(x,{type:"submit",className:"w-32",children:-1===i?"发布":"更新"})]}),a.images.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:a.images.map((e,t)=>(0,r.jsx)("img",{src:e,alt:"预览图 ".concat(t+1),className:"w-24 h-24 object-cover rounded"},t))}),a.videoUrl&&k(a.videoUrl)]})})}),(0,r.jsx)("div",{className:"space-y-8",children:z.map((a,s)=>{var i,o;return(0,r.jsxs)("article",{className:"p-6 bg-white rounded-lg border border-gray-100",children:[(0,r.jsxs)("header",{className:"flex justify-between items-start mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-medium mb-2",children:a.title}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(b.A,{size:14}),a.date]}),(0,r.jsx)("span",{className:"px-2 py-1 bg-gray-50 rounded",children:null===(i=N.find(e=>e.id===a.category))||void 0===i?void 0:i.name})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(x,{variant:"ghost",size:"sm",onClick:()=>{l({...e[s]}),n(s)},children:(0,r.jsx)(y.A,{size:14})}),(0,r.jsx)(x,{variant:"ghost",size:"sm",onClick:()=>{t(e.filter((e,t)=>t!==s))},className:"text-red-500 hover:text-red-600",children:(0,r.jsx)(j.A,{size:14})})]})]}),(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:a.content}),(null===(o=a.images)||void 0===o?void 0:o.length)>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:a.images.map((e,t)=>(0,r.jsx)("img",{src:e,alt:"图片 ".concat(t+1),className:"max-w-full h-auto rounded"},t))}),a.videoUrl&&k(a.videoUrl)]},a.id)})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[206,441,517,358],()=>t(4650)),_N_E=e.O()}]);